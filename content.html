<!DOCTYPE html>
<html>
<head>
    <title>External Iframe Content</title>
    <style>
        body { margin: 0; padding: 10px; }
        .tall-content { height: 750px; background: #ddd; padding: 20px; }
    </style>
</head>
<body>
    <div id="app-content">
        <h1>Hello from GitHub Pages! (Child App)</h1>
        <p>This page is sending its height to the Sprinklr widget.</p>
        <div class="tall-content">
            This section makes the overall page taller than 300px.
        </div>
        <p>End of content.</p>
    </div>

    <script>
        function sendHeightToParent() {
            // Get the total scroll height of the content
            const height = document.body.scrollHeight;
            
            // IMPORTANT: The parent origin is your GitHub Pages URL
            const PARENT_ORIGIN = 'https://strikkie-api.github.io'; 
            
            // Send the raw height as a string (Parent will parse it)
            window.parent.postMessage(height.toString(), PARENT_ORIGIN);
            console.log('Sent height to parent:', height);
        }

        // Run when the page loads
        window.onload = sendHeightToParent;

        // Run when the window size changes
        window.addEventListener('resize', sendHeightToParent);
    </script>
</body>
</html>
